<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="org.kosta.finalproject.lego.mapper.MemberMyPageMapper">
		
		<update id="updateMember" parameterType="org.kosta.finalproject.lego.vo.MemberVO">
			update member set password=#{password},name=#{name},address=#{address}, tel=#{tel}
			where id=#{id}		
		</update>
		
		
			<resultMap type="BoardVO" id="CategoryResultMap">
				<result column="category_no" property="bcvo.categroyNo"/>
				<result column="category_name" property="bcvo.categoryName"/>
			</resultMap>
		
		<select id="findWroteList" resultMap="CategoryResultMap" resultType="org.kosta.finalproject.lego.vo.BoardVO">
			select b.board_no, b.board_title, bc.category_name
			from  board b, board_category bc
			where b.category_no=bc.category_no
			and b.id=#{value}
			order by b.board_no
		</select>
		<!-- 
		<resultMap type=org.kosta.finalproject.lego.vo.BookingVO  id="memberAndCategoryResult">
				<result column="name" property="mvo.name"/>
				<result column="lesson_sort" property=""/>
			</resultMap>
		 -->
	<!-- 	 
		<select id="findMyBookingList" parameterType="string" resultType="org.kosta.finalproject.lego.vo.BookingVO">
			select r.lesson_sort,r.name, b.booking_day
			from(
					select ms.id, ms.category_no,c.lesson_sort,m.name
					from master ms, category c, member m
					where ms.category_no=c.category_no
					and m.id=ms.id) r,booking b
			where r.id=b.master_id
			and b.member_id=#{value}
		</select>
	 -->
</mapper>tMap type=org.kosta.finalproject.lego.vo.BookingVO  id="memberAndCategoryResult">
				<result column="name" property="mvo.name"/>
				<result column="lesson_sort" property=""/>
			</resultMap>
		
		<select id="findMyBookingList" parameterType="string" resultType="org.kosta.finalproject.lego.vo.BookingVO">
			select r.lesson_sort,r.name, b.booking_day
			from(
					select ms.id, ms.category_no,c.lesson_sort,m.name
					from master ms, category c, member m
					where ms.category_no=c.category_no
					and m.id=ms.id) r,booking b
			where r.id=b.master_id
			and b.member_id=#{value}
		</select>
	
</mapper>